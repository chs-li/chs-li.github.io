# 影片內容分析專案總覽

建立自動化影片解析系統，包含影格切片、視覺元素定位、物件追蹤與時序行為分析。能從影片中提取可量化的事件與指標，並提供可擴充的標註、統計與查詢流程。

## 主要亮點
- **三階段處理流程**：影片切片 → 標註 / 回饋 → 統計 / 查詢，支援互動式標註與即時檢視結果。
- **視覺定位技術**：採用 OpenCV 進行模板匹配、版面偵測與非極大值抑制，用於定位符號或界面元素。
- **智慧查詢整合 LLM**：自然語言可轉換為查詢條件或統計指令，再由 LLM 回傳摘要結果。
- **完善的資料組織**：影格、符號裁切、分群結果與標註資料分目錄管理，提高回溯與再訓練效率。

## 內容概覽
### 影片解析流程
- 自動切出影片影格並保存，可選擇重置或重建資料。
- 標註界面支援矩形區塊繪製與點擊式回饋，用於指定要追蹤的位置或符號。
- 系統可將標註資料回傳後端並即時更新統計。

### 視覺元素定位
- **模板匹配**：支援單模板與多模板流程，輸出位置、置信度與可視化結果。
- **非極大值抑制（NMS）**：用於過濾重疊框，提高偵測品質。
- **版面 / 區塊偵測**：可偵測格線或固定區域，用於界面元素定位。

### 影片與符號資料處理
- 影格切片後可進一步裁剪符號區域，用於後續分群或統計。
- 裁剪出的符號自動被分群，以便分析出現頻率、變化趨勢等。
- 標註資料以結構化格式保存，可覆寫與重新匯出。

### 追蹤與統計
- 系統可對符號或區塊出現次數、佔比、時序變化做統計。
- 搭配 LLM 可將複雜查詢以自然語言輸入，再由系統轉成檢索指令並回傳摘要。

## 使用與部署建議
- **快速驗證**：先以模板匹配確認目標區塊位置與置信度，再接入完整前後端流程。
- **標註→分析流程**：標註後自動觸發分群與統計，適合作為持續迭代的影片解析管線。
- **LLM 查詢**：保持影格與符號資料同步，以便自然語言查詢能準確映射到統計資料。
- **長期維運**：建議影格、符號裁切、分群結果與標註資料分專案與時間戳管理，便於版本回溯與再訓練。

